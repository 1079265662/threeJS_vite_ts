$redColor: #ff3040;

.cyberpunk-title {
  position: relative;
  font-size: 28px;
  color: $redColor;
  width: 100%;
}
.cyberpunk-title:before {
  content: "";
  display: block;
  position: absolute;
  bottom: -10px;
  left: 2px;
  width: 100%;
  height: 10px;
  background-color: #000;
  clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
}
.cyberpunk-title.glitched {
  animation-name: glitched;
  animation-duration: calc(0.9s * 1.4);
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-timing-function: steps(2, start), cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

.cyberpunk-title.glitched:before {
  animation-name: beforeglitched;
  animation-duration: calc(0.9s * 2);
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  animation-timing-function: steps(2, start), cubic-bezier(0.68, -0.55, 0.27, 1.55);
}
.cyberpunk-underline {
  animation: 1s underline infinite steps(2, start), cubic-bezier(0.68, -0.55, 0.27, 1.55);
}

// 下划线动画
@keyframes underline {
  0%,
  50% {
    opacity: 0;
  }
  51%,
  100% {
    opacity: 1;
  }
}

// 文字故障动画
@keyframes glitched {
  0% {
    left: -4px;
    transform: skew(-20deg);
    text-shadow: 0 0 rgb(0 255 255 / 50%), 0 0 rgb(255 0 0 / 50%);
  }
  11% {
    left: 2px;
    transform: skew(0deg);
    text-shadow: -2px 0 rgb(0 255 255 / 50%), 2px 0 rgb(255 0 0 / 50%);
  }
  50% {
    transform: skew(0deg);
    text-shadow: -5px 0 rgb(0 255 255 / 50%), 3px 0 rgb(255 0 0 / 50%);
  }
  51% {
    transform: skew(10deg);
  }
  60% {
    transform: skew(0deg);
  }
  100% {
    transform: skew(0deg);
    text-shadow: 3px 0 rgb(0 255 255 / 50%), 5px 0 rgb(255 0 0 / 50%);
  }
}

// 背景故障动画
@keyframes beforeglitched {
  0% {
    left: -4px;
    transform: skew(-20deg);
    clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
  }
  11% {
    left: 2px;
    transform: skew(0deg);
    clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
  }
  50% {
    transform: skew(0deg);
    clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
  }
  51% {
    transform: skew(0deg);
    clip-path: polygon(
      0px 0px,
      85px 0px,
      90px 5px,
      100% 5px,
      40% 5px,
      calc(40% - 30px) 0px,
      calc(40% + 30px) 0px,
      calc(45% - 15px) 5px,
      100% 5px,
      100% 6px,
      calc(45% - 14px) 6px,
      calc(40% + 29px) 1px,
      calc(40% - 29px) 1px,
      calc(40% + 1px) 6px,
      85px 6px,
      80px 10px,
      0px 10px
    );
  }
  60% {
    transform: skew(0deg);
    clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
  }
  100% {
    transform: skew(0deg);
    clip-path: polygon(0px 0px, 85px 0px, 90px 5px, 100% 5px, 100% 6px, 85px 6px, 80px 10px, 0px 10px);
  }
}
